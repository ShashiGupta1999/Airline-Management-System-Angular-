<h2>Update Flight Details</h2>

<form [formGroup]="updateFlightForm" (ngSubmit)="onSubmit()">
  <div>
    <label for="providerCode">Provider Code:</label>
    <input
      type="text"
      id="providerCode"
      formControlName="providerCode"
      (blur)="checkProviderCode()"
    />
    <div *ngIf="updateFlightForm.get('providerCode')?.errors?.['required']">
      Provider code is required.
    </div>
    <div *ngIf="updateFlightForm.get('providerCode')?.errors?.['minlength']">
      Provider code must be at least 2 characters.
    </div>
    <div *ngIf="updateFlightForm.get('providerCode')?.errors?.['pattern']">
      Provider code must be alphanumeric.
    </div>
    <div *ngIf="updateFlightForm.get('providerCode')?.errors?.['notExists']">
      {{ errorMessage }}
    </div>
  </div>

  <div>
    <label for="providerType">Provider Type:</label>
    <input type="text" id="providerType" formControlName="providerType" />
    <div *ngIf="updateFlightForm.get('providerType')?.errors?.['required']">
      Provider type is required.
    </div>
    <div *ngIf="updateFlightForm.get('providerType')?.errors?.['maxlength']">
      Provider type cannot exceed 13 characters.
    </div>
    <div *ngIf="updateFlightForm.get('providerType')?.errors?.['pattern']">
      Provider type must contain only alphabets.
    </div>
  </div>

  <div *ngIf="errorMessage">
    <span class="error">{{ errorMessage }}</span>
  </div>

  <button type="submit" [disabled]="updateFlightForm.invalid">
    Update Flight
  </button>
</form>
